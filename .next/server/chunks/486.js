exports.id=486,exports.ids=[486],exports.modules={841:(e,r,t)=>{let a={"38c567043cdfd76714a53f4ae14f9953ef7331ba":()=>Promise.resolve().then(t.bind(t,68928)).then(e=>e.generateCopy),"6a0ad0985b7d8e40eaeedc653a1393c5471aa10d":()=>Promise.resolve().then(t.bind(t,68928)).then(e=>e.createCheckoutSession),"9736193ea260dd983b8873c62f5b6cbd1a3104a2":()=>Promise.resolve().then(t.bind(t,68928)).then(e=>e.createBuyerRepo),bce8a43a8cfac3504b240a75147516a043e637a0:()=>Promise.resolve().then(t.bind(t,68928)).then(e=>e.createOrder),de82277159b022029a35114e887adb7ce2768793:()=>Promise.resolve().then(t.bind(t,68928)).then(e=>e.saveQuestionnaire)};async function n(e,...r){return(await a[e]()).apply(null,r)}e.exports={"38c567043cdfd76714a53f4ae14f9953ef7331ba":n.bind(null,"38c567043cdfd76714a53f4ae14f9953ef7331ba"),"6a0ad0985b7d8e40eaeedc653a1393c5471aa10d":n.bind(null,"6a0ad0985b7d8e40eaeedc653a1393c5471aa10d"),"9736193ea260dd983b8873c62f5b6cbd1a3104a2":n.bind(null,"9736193ea260dd983b8873c62f5b6cbd1a3104a2"),bce8a43a8cfac3504b240a75147516a043e637a0:n.bind(null,"bce8a43a8cfac3504b240a75147516a043e637a0"),de82277159b022029a35114e887adb7ce2768793:n.bind(null,"de82277159b022029a35114e887adb7ce2768793")}},72996:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},18082:()=>{},90772:(e,r,t)=>{"use strict";t.d(r,{z:()=>c});var a=t(10326),n=t(17577),i=t(86438),o=t(79360),d=t(77863);let s=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...o},c)=>{let l=n?i.g7:"button";return a.jsx(l,{className:(0,d.cn)(s({variant:r,size:t,className:e})),ref:c,...o})});c.displayName="Button"},14004:(e,r,t)=>{"use strict";t.d(r,{AE:()=>n,BN:()=>o,LV:()=>i,Mc:()=>d,kj:()=>s}),t(15424);var a=t(46242),n=(0,a.$)("9736193ea260dd983b8873c62f5b6cbd1a3104a2"),i=(0,a.$)("bce8a43a8cfac3504b240a75147516a043e637a0"),o=(0,a.$)("de82277159b022029a35114e887adb7ce2768793"),d=(0,a.$)("6a0ad0985b7d8e40eaeedc653a1393c5471aa10d"),s=(0,a.$)("38c567043cdfd76714a53f4ae14f9953ef7331ba")},42771:(e,r,t)=>{"use strict";t.d(r,{Xk:()=>n,z5:()=>i});var a=t(770);let n=a.Ry({brand:a.Ry({name:a.Z_().min(1,"Brand name is required"),tagline:a.Z_().min(1,"Tagline is required"),tone:a.Km(["simple","energetic","formal"])}),location:a.Z_().min(1,"Location is required"),audience:a.Ry({founders:a.Rx().min(0).max(100),builders:a.Rx().min(0).max(100),investors:a.Rx().min(0).max(100)}),colors:a.Ry({primary:a.Z_().regex(/^#[0-9A-F]{6}$/i,"Invalid hex color"),secondary:a.Z_().regex(/^#[0-9A-F]{6}$/i,"Invalid hex color")}),logo:a.Z_().optional(),heroImage:a.Z_().optional(),email:a.Ry({senderDomain:a.Z_().min(1,"Sender domain is required")}),sms:a.Ry({country:a.Z_().min(1,"SMS country is required")}),event:a.Ry({cadence:a.Km(["monthly","quarterly"]),sampleName:a.Z_().min(1,"Sample event name is required")})});a.Ry({site:a.Ry({brandName:a.Z_(),tagline:a.Z_(),home:a.Ry({heroTitle:a.Z_(),heroSubtitle:a.Z_()}),cta:a.Z_()}),emails:a.Ry({confirmation:a.Ry({subject:a.Z_(),html:a.Z_(),text:a.Z_()}),reminder24h:a.Ry({subject:a.Z_(),html:a.Z_(),text:a.Z_()}),postEvent:a.Ry({subject:a.Z_(),html:a.Z_(),text:a.Z_()})}),sms:a.Ry({reminder3h:a.Z_(),doorInfo:a.Z_()}),theme:a.Ry({colors:a.Ry({primary:a.Z_(),text:a.Z_().default("#11151A"),muted:a.Z_().default("#4B5563"),bg:a.Z_().default("#F7F5F3")}),roleColors:a.Ry({Organizer:a.Z_().default("#7A1E1E"),Speaker:a.Z_().default("#C27803"),Sponsor:a.Z_().default("#0E7490"),VIP:a.Z_().default("#6D28D9"),Staff:a.Z_().default("#374151"),Attendee:a.Z_().default("#475569")}),logo:a.Ry({dark:a.Z_().default("/branding/default/logo.svg"),light:a.Z_().default("/branding/default/logo-white.svg")}),images:a.Ry({hero:a.Z_().default("/branding/default/hero.jpg")}),brandName:a.Z_()})});let i=[{id:"starter",name:"Starter",price:99,priceId:process.env.STRIPE_PRICE_STARTER||"",features:["Event site template","Basic customization","Email templates","SMS notifications"]},{id:"plus",name:"Plus",price:199,priceId:process.env.STRIPE_PRICE_PLUS||"",features:["Everything in Starter","Advanced customization","Priority support","Custom branding"]},{id:"pro",name:"Pro",price:399,priceId:process.env.STRIPE_PRICE_PRO||"",features:["Everything in Plus","White-label license","Source code access","1:1 setup support"]}]},77863:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var a=t(41135),n=t(31009);function i(...e){return(0,n.m6)((0,a.W)(e))}},11506:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>o});var a=t(19510),n=t(85384),i=t.n(n);t(67272);let o={title:"Igani - Event Site Generator",description:"Generate white-label event sites with AI-powered copy and themes"};function d({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:e})})}},68928:(e,r,t)=>{"use strict";t.r(r),t.d(r,{createBuyerRepo:()=>b,createCheckoutSession:()=>h,createOrder:()=>m,generateCopy:()=>p,saveQuestionnaire:()=>f});var a=t(27745);t(26461);var n=t(30207),i=t(82346),o=t(53524);let d=globalThis.prisma??new o.PrismaClient;var s=t(11667);s.Ry({brand:s.Ry({name:s.Z_().min(1,"Brand name is required"),tagline:s.Z_().min(1,"Tagline is required"),tone:s.Km(["simple","energetic","formal"])}),location:s.Z_().min(1,"Location is required"),audience:s.Ry({founders:s.Rx().min(0).max(100),builders:s.Rx().min(0).max(100),investors:s.Rx().min(0).max(100)}),colors:s.Ry({primary:s.Z_().regex(/^#[0-9A-F]{6}$/i,"Invalid hex color"),secondary:s.Z_().regex(/^#[0-9A-F]{6}$/i,"Invalid hex color")}),logo:s.Z_().optional(),heroImage:s.Z_().optional(),email:s.Ry({senderDomain:s.Z_().min(1,"Sender domain is required")}),sms:s.Ry({country:s.Z_().min(1,"SMS country is required")}),event:s.Ry({cadence:s.Km(["monthly","quarterly"]),sampleName:s.Z_().min(1,"Sample event name is required")})}),s.Ry({site:s.Ry({brandName:s.Z_(),tagline:s.Z_(),home:s.Ry({heroTitle:s.Z_(),heroSubtitle:s.Z_()}),cta:s.Z_()}),emails:s.Ry({confirmation:s.Ry({subject:s.Z_(),html:s.Z_(),text:s.Z_()}),reminder24h:s.Ry({subject:s.Z_(),html:s.Z_(),text:s.Z_()}),postEvent:s.Ry({subject:s.Z_(),html:s.Z_(),text:s.Z_()})}),sms:s.Ry({reminder3h:s.Z_(),doorInfo:s.Z_()}),theme:s.Ry({colors:s.Ry({primary:s.Z_(),text:s.Z_().default("#11151A"),muted:s.Z_().default("#4B5563"),bg:s.Z_().default("#F7F5F3")}),roleColors:s.Ry({Organizer:s.Z_().default("#7A1E1E"),Speaker:s.Z_().default("#C27803"),Sponsor:s.Z_().default("#0E7490"),VIP:s.Z_().default("#6D28D9"),Staff:s.Z_().default("#374151"),Attendee:s.Z_().default("#475569")}),logo:s.Ry({dark:s.Z_().default("/branding/default/logo.svg"),light:s.Z_().default("/branding/default/logo-white.svg")}),images:s.Ry({hero:s.Z_().default("/branding/default/hero.jpg")}),brandName:s.Z_()})});let c=[{id:"starter",name:"Starter",price:99,priceId:process.env.STRIPE_PRICE_STARTER||"",features:["Event site template","Basic customization","Email templates","SMS notifications"]},{id:"plus",name:"Plus",price:199,priceId:process.env.STRIPE_PRICE_PLUS||"",features:["Everything in Starter","Advanced customization","Priority support","Custom branding"]},{id:"pro",name:"Pro",price:399,priceId:process.env.STRIPE_PRICE_PRO||"",features:["Everything in Plus","White-label license","Source code access","1:1 setup support"]}];var l=t(85723);let u=new i.Z(process.env.STRIPE_SECRET_KEY,{apiVersion:"2023-10-16"});async function m(){try{return await d.order.create({data:{status:"DRAFT",amount:0,currency:"usd",customer:{create:{name:"",email:""}}}})}catch(e){throw console.error("Error creating order:",e),Error("Failed to create order")}}async function f(e,r){try{return await d.questionnaire.upsert({where:{orderId:e},create:{orderId:e,answers:r},update:{answers:r}}),(0,n.revalidatePath)(`/orders/${e}`),{success:!0}}catch(e){throw console.error("Error saving questionnaire:",e),Error("Failed to save questionnaire")}}async function h(e,r){try{let t=c.find(e=>e.id===r);if(!t)throw Error("Invalid plan");let a=await d.order.findUnique({where:{id:e},include:{customer:!0}});if(!a)throw Error("Order not found");let n=await u.checkout.sessions.create({mode:"payment",payment_method_types:["card"],line_items:[{price:t.priceId,quantity:1}],metadata:{orderId:e,planId:r},success_url:`http://localhost:3000/orders/${e}?session_id={CHECKOUT_SESSION_ID}`,cancel_url:`http://localhost:3000/checkout?orderId=${e}`,customer_email:a.customer.email||void 0});return await d.order.update({where:{id:e},data:{amount:100*t.price,currency:"usd"}}),{url:n.url}}catch(e){throw console.error("Error creating checkout session:",e),Error("Failed to create checkout session")}}async function p(e){try{let r=await d.order.findUnique({where:{id:e},include:{questionnaire:!0}});if(!r||!r.questionnaire)throw Error("Order or questionnaire not found");let t=await fetch("http://localhost:3000/api/generate-copy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e,answers:r.questionnaire.answers})});if(!t.ok)throw Error("Failed to generate copy");let a=await t.json();return(0,n.revalidatePath)(`/orders/${e}`),a}catch(e){throw console.error("Error generating copy:",e),Error("Failed to generate copy")}}async function b(e){try{let r=await fetch("http://localhost:3000/api/create-repo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e})});if(!r.ok)throw Error("Failed to create repository");let t=await r.json();return(0,n.revalidatePath)(`/orders/${e}`),t}catch(e){throw console.error("Error creating repository:",e),Error("Failed to create repository")}}(0,l.h)([m,f,h,p,b]),(0,a.j)("bce8a43a8cfac3504b240a75147516a043e637a0",m),(0,a.j)("de82277159b022029a35114e887adb7ce2768793",f),(0,a.j)("6a0ad0985b7d8e40eaeedc653a1393c5471aa10d",h),(0,a.j)("38c567043cdfd76714a53f4ae14f9953ef7331ba",p),(0,a.j)("9736193ea260dd983b8873c62f5b6cbd1a3104a2",b)},67272:()=>{}};