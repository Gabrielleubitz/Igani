"use strict";(()=>{var e={};e.id=406,e.ids=[406],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},80665:e=>{e.exports=require("dns")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},32694:e=>{e.exports=require("http2")},98216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},35816:e=>{e.exports=require("process")},76162:e=>{e.exports=require("stream")},82452:e=>{e.exports=require("tls")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},71568:e=>{e.exports=require("zlib")},93211:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>b});var t={};s.r(t),s.d(t,{POST:()=>c});var i=s(49303),o=s(88716),n=s(60670),a=s(87070),u=s(93820),p=s(2188);let d=async e=>{try{return(await (0,u.ET)((0,u.hJ)(p.db,"contactSubmissions"),{...e,submittedAt:u.EK.now(),status:"pending",statusUpdatedAt:u.EK.now()})).id}catch(e){throw console.error("Error saving contact submission:",e),e}};async function c(e){try{let{name:r,email:s,phone:t,businessType:i,message:o}=await e.json();if(!r||!s||!i||!o)return a.NextResponse.json({error:"Missing required fields"},{status:400});let n=r.trim().split(" "),u=n[0]||"",p=n.slice(1).join(" ")||"",c={firstName:u,lastName:p,email:s,projectType:i,message:`[Funnel Lead - ${i}]
${t?`Phone: ${t}
`:""}${o}`};return await d(c),a.NextResponse.json({success:!0,message:"Form submitted successfully"},{status:200})}catch(e){return console.error("Error saving funnel submission:",e),a.NextResponse.json({error:"Failed to submit form"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/funnel-submission/route",pathname:"/api/funnel-submission",filename:"route",bundlePath:"app/api/funnel-submission/route"},resolvedPagePath:"/Users/GabrielLeubitz/Downloads/igani/app/api/funnel-submission/route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:m,staticGenerationAsyncStorage:b,serverHooks:x}=l,g="/api/funnel-submission/route";function f(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:b})}},2188:(e,r,s)=>{s.d(r,{db:()=>n});var t=s(29362),i=s(93820);let o=0===(0,t.C6)().length?(0,t.ZF)({apiKey:"AIzaSyAzn2artxg7S8ZANNwlVHTPq7bsqFbvE-A",authDomain:"igani-78bbc.firebaseapp.com",projectId:"igani-78bbc",storageBucket:"igani-78bbc.firebasestorage.app",messagingSenderId:"1058353839556",appId:"1:1058353839556:web:ffd347b4aedf7944d7f891",measurementId:"G-ZQEK0R7VTP"}):(0,t.C6)()[0],n=(0,i.ad)(o)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[276,999,972],()=>s(93211));module.exports=t})();