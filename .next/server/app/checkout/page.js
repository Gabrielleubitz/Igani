(()=>{var e={};e.id=285,e.ids=[285],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},21764:e=>{"use strict";e.exports=require("util")},52873:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>h,tree:()=>c}),r(75113),r(11506),r(35866);var a=r(23191),n=r(88716),i=r(37922),s=r.n(i),o=r(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let c=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75113)),"/Users/gabriel/Downloads/igani/app/checkout/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"/Users/gabriel/Downloads/igani/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/gabriel/Downloads/igani/app/checkout/page.tsx"],u="/checkout/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},841:(e,t,r)=>{let a={"38c567043cdfd76714a53f4ae14f9953ef7331ba":()=>Promise.resolve().then(r.bind(r,65231)).then(e=>e.generateCopy),"6a0ad0985b7d8e40eaeedc653a1393c5471aa10d":()=>Promise.resolve().then(r.bind(r,65231)).then(e=>e.createCheckoutSession),"9736193ea260dd983b8873c62f5b6cbd1a3104a2":()=>Promise.resolve().then(r.bind(r,65231)).then(e=>e.createBuyerRepo),bce8a43a8cfac3504b240a75147516a043e637a0:()=>Promise.resolve().then(r.bind(r,65231)).then(e=>e.createOrder),de82277159b022029a35114e887adb7ce2768793:()=>Promise.resolve().then(r.bind(r,65231)).then(e=>e.saveQuestionnaire)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"38c567043cdfd76714a53f4ae14f9953ef7331ba":n.bind(null,"38c567043cdfd76714a53f4ae14f9953ef7331ba"),"6a0ad0985b7d8e40eaeedc653a1393c5471aa10d":n.bind(null,"6a0ad0985b7d8e40eaeedc653a1393c5471aa10d"),"9736193ea260dd983b8873c62f5b6cbd1a3104a2":n.bind(null,"9736193ea260dd983b8873c62f5b6cbd1a3104a2"),bce8a43a8cfac3504b240a75147516a043e637a0:n.bind(null,"bce8a43a8cfac3504b240a75147516a043e637a0"),de82277159b022029a35114e887adb7ce2768793:n.bind(null,"de82277159b022029a35114e887adb7ce2768793")}},50277:(e,t,r)=>{Promise.resolve().then(r.bind(r,85430))},72996:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},18082:()=>{},85430:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var a=r(10326),n=r(17577),i=r(35047),s=r(90772),o=r(42771),d=r(14004);function c(){let e=(0,i.useSearchParams)().get("orderId"),[t,r]=(0,n.useState)("plus"),[c,l]=(0,n.useState)(!1),u=async t=>{if(e){l(!0);try{let{url:r}=await (0,d.Mc)(e,t);window.location.href=r}catch(e){console.error("Checkout error:",e),l(!1)}}};return a.jsx("div",{className:"min-h-screen bg-slate-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Choose Your Plan"}),a.jsx("p",{className:"text-slate-600",children:"Select the plan that best fits your event needs."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:o.z5.map(e=>(0,a.jsxs)("div",{className:`bg-white rounded-lg shadow-sm border-2 p-6 relative ${t===e.id?"border-blue-500":"border-slate-200"}`,children:["plus"===e.id&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Recommended"})}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e.name}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-slate-900",children:["$",e.price]}),a.jsx("div",{className:"text-slate-600",children:"one-time payment"})]}),a.jsx("ul",{className:"space-y-3 mb-6",children:e.features.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center text-slate-600",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center mr-3",children:"âœ“"}),e]},t))}),a.jsx(s.z,{className:"w-full",variant:t===e.id?"default":"outline",onClick:()=>{r(e.id),u(e.id)},disabled:c,children:c&&t===e.id?"Processing...":"Select Plan"})]},e.id))}),a.jsx("div",{className:"text-center mt-8 text-sm text-slate-500",children:a.jsx("p",{children:"Secure payment powered by Stripe. 30-day money-back guarantee."})})]})})})}function l(){return a.jsx(n.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx(c,{})})}},90772:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var a=r(10326),n=r(17577),i=r(86438),s=r(79360),o=r(77863);let d=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},c)=>{let l=n?i.g7:"button";return a.jsx(l,{className:(0,o.cn)(d({variant:t,size:r,className:e})),ref:c,...s})});c.displayName="Button"},14004:(e,t,r)=>{"use strict";r.d(t,{AE:()=>n,BN:()=>s,LV:()=>i,Mc:()=>o,kj:()=>d}),r(15424);var a=r(46242),n=(0,a.$)("9736193ea260dd983b8873c62f5b6cbd1a3104a2"),i=(0,a.$)("bce8a43a8cfac3504b240a75147516a043e637a0"),s=(0,a.$)("de82277159b022029a35114e887adb7ce2768793"),o=(0,a.$)("6a0ad0985b7d8e40eaeedc653a1393c5471aa10d"),d=(0,a.$)("38c567043cdfd76714a53f4ae14f9953ef7331ba")},42771:(e,t,r)=>{"use strict";r.d(t,{Xk:()=>n,z5:()=>i});var a=r(770);let n=a.Ry({brand:a.Ry({name:a.Z_().min(1,"Brand name is required"),tagline:a.Z_().min(1,"Tagline is required"),tone:a.Km(["simple","energetic","formal"])}),location:a.Z_().min(1,"Location is required"),audience:a.Ry({founders:a.Rx().min(0).max(100),builders:a.Rx().min(0).max(100),investors:a.Rx().min(0).max(100)}),colors:a.Ry({primary:a.Z_().regex(/^#[0-9A-F]{6}$/i,"Invalid hex color"),secondary:a.Z_().regex(/^#[0-9A-F]{6}$/i,"Invalid hex color")}),logo:a.Z_().optional(),heroImage:a.Z_().optional(),email:a.Ry({senderDomain:a.Z_().min(1,"Sender domain is required")}),sms:a.Ry({country:a.Z_().min(1,"SMS country is required")}),event:a.Ry({cadence:a.Km(["monthly","quarterly"]),sampleName:a.Z_().min(1,"Sample event name is required")})});a.Ry({site:a.Ry({brandName:a.Z_(),tagline:a.Z_(),home:a.Ry({heroTitle:a.Z_(),heroSubtitle:a.Z_()}),cta:a.Z_()}),emails:a.Ry({confirmation:a.Ry({subject:a.Z_(),html:a.Z_(),text:a.Z_()}),reminder24h:a.Ry({subject:a.Z_(),html:a.Z_(),text:a.Z_()}),postEvent:a.Ry({subject:a.Z_(),html:a.Z_(),text:a.Z_()})}),sms:a.Ry({reminder3h:a.Z_(),doorInfo:a.Z_()}),theme:a.Ry({colors:a.Ry({primary:a.Z_(),text:a.Z_().default("#11151A"),muted:a.Z_().default("#4B5563"),bg:a.Z_().default("#F7F5F3")}),roleColors:a.Ry({Organizer:a.Z_().default("#7A1E1E"),Speaker:a.Z_().default("#C27803"),Sponsor:a.Z_().default("#0E7490"),VIP:a.Z_().default("#6D28D9"),Staff:a.Z_().default("#374151"),Attendee:a.Z_().default("#475569")}),logo:a.Ry({dark:a.Z_().default("/branding/default/logo.svg"),light:a.Z_().default("/branding/default/logo-white.svg")}),images:a.Ry({hero:a.Z_().default("/branding/default/hero.jpg")}),brandName:a.Z_()})});let i=[{id:"starter",name:"Starter",price:99,priceId:process.env.STRIPE_PRICE_STARTER||"",features:["Event site template","Basic customization","Email templates","SMS notifications"]},{id:"plus",name:"Plus",price:199,priceId:process.env.STRIPE_PRICE_PLUS||"",features:["Everything in Starter","Advanced customization","Priority support","Custom branding"]},{id:"pro",name:"Pro",price:399,priceId:process.env.STRIPE_PRICE_PRO||"",features:["Everything in Plus","White-label license","Source code access","1:1 setup support"]}]},77863:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(41135),n=r(31009);function i(...e){return(0,n.m6)((0,a.W)(e))}},75113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/gabriel/Downloads/igani/app/checkout/page.tsx#default`)},11506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>s});var a=r(19510),n=r(85384),i=r.n(n);r(67272);let s={title:"Igani - Event Site Generator",description:"Generate white-label event sites with AI-powered copy and themes"};function o({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:i().className,children:e})})}},65231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createBuyerRepo:()=>l,createCheckoutSession:()=>d,createOrder:()=>s,generateCopy:()=>c,saveQuestionnaire:()=>o});var a=r(27745);r(26461);var n=r(30207);async function i(){let e=(await r.e(346).then(r.bind(r,82346))).default,{prisma:t}=await r.e(180).then(r.bind(r,99180)),{plans:a}=await r.e(460).then(r.bind(r,98460));return{stripe:new e(process.env.STRIPE_SECRET_KEY,{apiVersion:"2023-10-16"}),prisma:t,plans:a}}async function s(){try{let{prisma:e}=await i();return await e.order.create({data:{status:"DRAFT",amount:0,currency:"usd",customer:{create:{name:"",email:""}}}})}catch(e){throw console.error("Error creating order:",e),Error("Failed to create order")}}async function o(e,t){try{let{prisma:r}=await i();return await r.questionnaire.upsert({where:{orderId:e},create:{orderId:e,answers:t},update:{answers:t}}),(0,n.revalidatePath)(`/orders/${e}`),{success:!0}}catch(e){throw console.error("Error saving questionnaire:",e),Error("Failed to save questionnaire")}}async function d(e,t){try{let{stripe:r,prisma:a,plans:n}=await i(),s=n.find(e=>e.id===t);if(!s)throw Error("Invalid plan");let o=await a.order.findUnique({where:{id:e},include:{customer:!0}});if(!o)throw Error("Order not found");let d=await r.checkout.sessions.create({mode:"payment",payment_method_types:["card"],line_items:[{price:s.priceId,quantity:1}],metadata:{orderId:e,planId:t},success_url:`http://localhost:3000/orders/${e}?session_id={CHECKOUT_SESSION_ID}`,cancel_url:`http://localhost:3000/checkout?orderId=${e}`,customer_email:o.customer.email||void 0});return await a.order.update({where:{id:e},data:{amount:100*s.price,currency:"usd"}}),{url:d.url}}catch(e){throw console.error("Error creating checkout session:",e),Error("Failed to create checkout session")}}async function c(e){try{let{prisma:t}=await i(),r=await t.order.findUnique({where:{id:e},include:{questionnaire:!0}});if(!r||!r.questionnaire)throw Error("Order or questionnaire not found");let a=await fetch("http://localhost:3000/api/generate-copy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e,answers:r.questionnaire.answers})});if(!a.ok)throw Error("Failed to generate copy");let s=await a.json();return(0,n.revalidatePath)(`/orders/${e}`),s}catch(e){throw console.error("Error generating copy:",e),Error("Failed to generate copy")}}async function l(e){try{let t=await fetch("http://localhost:3000/api/create-repo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:e})});if(!t.ok)throw Error("Failed to create repository");let r=await t.json();return(0,n.revalidatePath)(`/orders/${e}`),r}catch(e){throw console.error("Error creating repository:",e),Error("Failed to create repository")}}(0,r(85723).h)([s,o,d,c,l]),(0,a.j)("bce8a43a8cfac3504b240a75147516a043e637a0",s),(0,a.j)("de82277159b022029a35114e887adb7ce2768793",o),(0,a.j)("6a0ad0985b7d8e40eaeedc653a1393c5471aa10d",d),(0,a.j)("38c567043cdfd76714a53f4ae14f9953ef7331ba",c),(0,a.j)("9736193ea260dd983b8873c62f5b6cbd1a3104a2",l)},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,892,36,201,217],()=>r(52873));module.exports=a})();