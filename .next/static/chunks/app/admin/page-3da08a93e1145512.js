(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5625:function(e,t,s){Promise.resolve().then(s.bind(s,9802))},9802:function(e,t,s){"use strict";s.d(t,{AdminDashboard:function(){return j}});var a=s(7437),r=s(2265),l=s(2869),n=s(535),i=s(4508);let d=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(d({variant:s}),t),...r})}var o=s(5302),x=s(9763);let m=(0,x.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),h=(0,x.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),u=(0,x.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var p=s(6362),f=s(5135),v=s(2735);let g=(0,x.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);function j(e){let{orders:t}=e,[s,n]=(0,r.useState)("all"),[i,d]=(0,r.useState)("all"),x=t.filter(e=>{if("all"!==s&&e.status!==s)return!1;if("all"!==i){let t=new Date(e.createdAt),s=Math.floor((new Date().getTime()-t.getTime())/864e5);switch(i){case"today":if(s>0)return!1;break;case"week":if(s>7)return!1;break;case"month":if(s>30)return!1}}return!0}),j={total:t.length,paid:t.filter(e=>"PAID"===e.status).length,draft:t.filter(e=>"DRAFT"===e.status).length,failed:t.filter(e=>"FAILED"===e.status).length,totalRevenue:t.filter(e=>"PAID"===e.status).reduce((e,t)=>e+t.amount/100,0)},N=e=>{switch(e){case"PAID":return(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-500"});case"FAILED":return(0,a.jsx)(m,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(h,{className:"h-4 w-4 text-yellow-500"})}},y=e=>(0,a.jsx)(c,{variant:{PAID:"default",DRAFT:"secondary",FAILED:"destructive"}[e]||"secondary",children:e.toLowerCase()});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:j.total})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Paid Orders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:j.paid})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Draft Orders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:j.draft})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Failed Orders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:j.failed})]}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-slate-600",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:["$",j.totalRevenue.toFixed(2)]})]})]}),(0,a.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Filters:"})]}),(0,a.jsxs)("select",{value:s,onChange:e=>n(e.target.value),className:"border rounded px-3 py-1 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"PAID",children:"Paid"}),(0,a.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,a.jsx)("option",{value:"FAILED",children:"Failed"})]}),(0,a.jsxs)("select",{value:i,onChange:e=>d(e.target.value),className:"border rounded px-3 py-1 text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Time"}),(0,a.jsx)("option",{value:"today",children:"Today"}),(0,a.jsx)("option",{value:"week",children:"This Week"}),(0,a.jsx)("option",{value:"month",children:"This Month"})]}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)(l.z,{variant:"outline",size:"sm",children:"Export CSV"})})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Order"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Customer"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Brand"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Plan"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Amount"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Status"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Date"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-600",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-200",children:x.map(e=>{var t,s,r,n,i,d,o,x;return(0,a.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[N(e.status),(0,a.jsx)("code",{className:"text-xs bg-slate-100 px-2 py-1 rounded",children:e.id.slice(0,8)})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.customer.name||"Unknown"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:e.customer.email||"No email"})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("p",{className:"text-sm text-slate-900",children:(null===(s=e.generatedCopy)||void 0===s?void 0:null===(t=s.site)||void 0===t?void 0:t.brandName)||(null===(i=e.questionnaire)||void 0===i?void 0:null===(n=i.answers)||void 0===n?void 0:null===(r=n.brand)||void 0===r?void 0:r.name)||"Unknown"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)(c,{variant:"outline",children:(null===(o=e.license)||void 0===o?void 0:null===(d=o.plan)||void 0===d?void 0:d.toUpperCase())||"N/A"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("p",{className:"text-sm font-medium text-slate-900",children:["$",(e.amount/100).toFixed(2)]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:y(e.status)}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.createdAt).toLocaleDateString()})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"flex space-x-1",children:"PAID"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.z,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:(0,a.jsx)("a",{href:"/orders/".concat(e.id),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})}),(null===(x=e.delivery)||void 0===x?void 0:x.repoUrl)&&(0,a.jsx)(l.z,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:(0,a.jsx)("a",{href:e.delivery.repoUrl,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:(0,a.jsx)("a",{href:"/api/download/".concat(e.id),children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})})}),e.customer.email&&(0,a.jsx)(l.z,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 w-8 p-0",children:(0,a.jsx)("a",{href:"mailto:".concat(e.customer.email),children:(0,a.jsx)(g,{className:"h-4 w-4"})})})]})})})]},e.id)})})]})}),0===x.length&&(0,a.jsx)("div",{className:"text-center py-8 text-slate-500",children:"No orders found matching the current filters."})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"System Health"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm",children:"Database"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm",children:"Stripe Webhook"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm",children:"OpenAI API"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-sm",children:"GitHub App"})]})]})]})]})}},2869:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(7437),r=s(2265),l=s(5293),n=s(535),i=s(4508);let d=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...o}=e,x=c?l.g7:"button";return(0,a.jsx)(x,{className:(0,i.cn)(d({variant:r,size:n,className:s})),ref:t,...o})});c.displayName="Button"},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(1994),r=s(3335);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:x="",children:m,...h}=s;return(0,a.createElement)("svg",{ref:n,...r,width:d,height:d,stroke:i,strokeWidth:o?24*Number(c)/Number(d):c,className:["lucide","lucide-".concat(l(e)),x].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2735:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6362:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5135:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])}},function(e){e.O(0,[50,971,117,744],function(){return e(e.s=5625)}),_N_E=e.O()}]);